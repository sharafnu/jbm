<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Appointments_Report_Monthly" language="groovy" pageWidth="632" pageHeight="842" columnWidth="592" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="c8e7e4bf-7e2b-4b39-92d0-3d9d0b3ad653">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="48"/>
	<parameter name="month" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="year" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="userId" class="java.lang.String"/>
	<parameter name="yearMonth" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT app."appointment_no",
     app."appointment_date",
     app."hours_spent",
     app."payment_status",
     app."appointment_status",
apay.amount_paid,
     emp."first_name" as staff_name,
cus.first_name as customer_first_name,
cus.last_name as customer_last_name
FROM "appointment" app
INNER JOIN "employee" emp ON app."employee_id" = emp."id"
INNER JOIN "customer" cus ON app.customer_id=cus.id
FULL OUTER JOIN appointment_payment apay ON apay.appointment_id=app.id

WHERE to_char(appointment_date,'YYYY-MM') = $P{yearMonth}
order by app.appointment_date]]>
	</queryString>
	<field name="appointment_no" class="java.lang.String"/>
	<field name="appointment_date" class="java.sql.Timestamp"/>
	<field name="hours_spent" class="java.math.BigDecimal"/>
	<field name="payment_status" class="java.lang.String"/>
	<field name="appointment_status" class="java.lang.String"/>
	<field name="amount_paid" class="java.lang.Double"/>
	<field name="staff_name" class="java.lang.String"/>
	<field name="customer_first_name" class="java.lang.String"/>
	<field name="customer_last_name" class="java.lang.String"/>
	<variable name="reportGeneratedDate" class="java.util.Date">
		<variableExpression><![CDATA[new java.util.Date()]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="57" splitType="Stretch">
			<image>
				<reportElement x="1" y="1" width="110" height="47" uuid="ec24f554-e45e-4fcc-89df-3774df8f0dde"/>
				<imageExpression><![CDATA["maxmaid.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="119" y="0" width="93" height="30" uuid="1656ed84-034d-4645-a23c-f4b16542b718"/>
				<textElement verticalAlignment="Middle">
					<font size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[MaxMaid]]></text>
			</staticText>
			<staticText>
				<reportElement x="119" y="28" width="100" height="17" uuid="eee1a7ad-69ee-48b9-851f-d29cdc5d5b26"/>
				<textElement>
					<font isBold="false"/>
				</textElement>
				<text><![CDATA[Cleaning Services]]></text>
			</staticText>
			<staticText>
				<reportElement x="395" y="18" width="110" height="17" uuid="3d97a6e0-0276-4aab-b69b-8b9a8052a759"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true" isItalic="true"/>
				</textElement>
				<text><![CDATA[Report Generated By : ]]></text>
			</staticText>
			<staticText>
				<reportElement x="395" y="1" width="110" height="17" uuid="64dcb183-b37e-4668-9ed1-6f813eec576f"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true" isItalic="true"/>
				</textElement>
				<text><![CDATA[Report Generated On : ]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy hh:mm a" isBlankWhenNull="true">
				<reportElement x="505" y="1" width="87" height="17" uuid="bb0d4f42-c9e4-4da8-8de9-a89cd176daab"/>
				<textElement>
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField pattern="dd-MM-yyyy hh:mm a">
				<reportElement x="505" y="18" width="87" height="17" uuid="cad1bcd1-044c-4ac1-bb0d-6b0d42b83059"/>
				<textElement>
					<font size="8" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{userId}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="5" y="55" width="580" height="1" uuid="2b0a543b-3dc4-4fe1-b1a8-de83ea7850ec"/>
			</line>
		</band>
	</title>
	<pageHeader>
		<band height="69" splitType="Stretch">
			<staticText>
				<reportElement mode="Opaque" x="28" y="49" width="37" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="a1e9dedf-5a57-493c-b5f6-a997f9c2bd64"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[App. No]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="65" y="49" width="51" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="6328a387-dbeb-4bd5-b060-c7f22540609c"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[App. Date]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="0" y="49" width="28" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="5327b5b4-0288-467c-893c-1848c481a2a6"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Sl. No]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="116" y="49" width="140" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="1a5a529a-0de7-4afe-8df8-85ad45476114"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Customer Name]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="256" y="49" width="70" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="c5edfdb7-93e0-437c-a091-d111cb844576"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Staff Name]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="396" y="49" width="55" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="9bd2eb60-ef32-4583-a728-1cf8c79c143c"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Amount]]></text>
			</staticText>
			<staticText>
				<reportElement x="192" y="1" width="211" height="19" uuid="13783611-a0ba-49c2-9379-dcf708ee552b"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true" isItalic="false"/>
				</textElement>
				<text><![CDATA[Monthly Report]]></text>
			</staticText>
			<staticText>
				<reportElement x="240" y="22" width="59" height="17" uuid="deca21fd-ec86-4b90-af7d-594e42e5904e"/>
				<textElement textAlignment="Right">
					<font isBold="true" isItalic="true"/>
				</textElement>
				<text><![CDATA[Month/Year]]></text>
			</staticText>
			<textField pattern="dd-MM-yyyy hh:mm a">
				<reportElement x="308" y="22" width="53" height="17" uuid="f53e55b9-392a-4f93-ba79-17acb2a23eb4"/>
				<textElement>
					<font isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{month}+", "+$P{year}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement mode="Opaque" x="326" y="49" width="70" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="0ed2b0b2-d1b9-41f1-b445-155066b373a5"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="451" y="49" width="74" height="20" forecolor="#000000" backcolor="#CCCCCC" uuid="0212c950-d75a-426e-851e-8b58fc7fb2fb"/>
				<box leftPadding="1" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9" isBold="false"/>
				</textElement>
				<text><![CDATA[Payment Status]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="28" y="0" width="37" height="20" uuid="94318377-9556-4559-8db1-a623514d91e8"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{appointment_no}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy">
				<reportElement stretchType="RelativeToBandHeight" x="65" y="0" width="51" height="20" isRemoveLineWhenBlank="true" uuid="95d77a08-728a-46f3-9816-f2d6c59aea2f"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{appointment_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="0" width="28" height="20" uuid="ae8392a5-0634-4547-bb3d-013bd60fe095"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{COLUMN_COUNT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="116" y="0" width="140" height="20" uuid="4f91e3f9-f808-4103-b004-f6f17a87fd1f"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{customer_first_name}+$F{customer_last_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="256" y="0" width="70" height="20" uuid="c775bd71-208c-4703-a41a-bbbc345a4aa8"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{staff_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="396" y="0" width="55" height="20" uuid="090aecd6-3e53-4977-bd22-7988422f7c1f"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{amount_paid}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="326" y="0" width="70" height="20" uuid="e971db8d-69dc-48a8-bef4-5997a4390596"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{appointment_status}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToBandHeight" x="451" y="0" width="74" height="20" uuid="21bba963-b085-43bf-a060-83675f1d2551"/>
				<box leftPadding="3" rightPadding="1">
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{payment_status}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="39" splitType="Stretch">
			<line>
				<reportElement x="5" y="10" width="580" height="1" uuid="2c81d804-48d4-4488-b829-c22b4e158fc2"/>
			</line>
			<textField>
				<reportElement x="485" y="11" width="12" height="20" uuid="ce38d2ca-af09-468c-af32-ab794a2e2424"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="496" y="11" width="19" height="20" uuid="776aa80e-ad1a-4bdc-87d6-17476512bbae"/>
				<text><![CDATA[ of ]]></text>
			</staticText>
			<staticText>
				<reportElement x="458" y="11" width="28" height="20" uuid="6d4cb5c0-2181-450f-adb3-9bc67231d22c"/>
				<text><![CDATA[Page]]></text>
			</staticText>
			<textField evaluationTime="Report">
				<reportElement x="515" y="11" width="32" height="20" uuid="896efa54-60fd-4f77-8924-69c8facb1819"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
